{"ast":null,"code":"export default {\n  name: \"chouKa\",\n\n  data() {\n    return {\n      //根据服务器的数据显示\n      ur: [{\n        name: 1,\n        rank: \"ur\",\n        image: \"3.png\"\n      }, 1, 2, 3, 4, 5],\n      sr: [{\n        name: 1,\n        rank: \"ur\",\n        image: \"@/assets/5.jpg\"\n      }, {\n        name: 22,\n        rank: \"ur\"\n      }, 3, 4, 5, 6, 7],\n      r: [1, 2, 3, 4, 5],\n      imgWrap: []\n    };\n  },\n\n  methods: {\n    clickRecharge() {},\n\n    clickUR(ID) {\n      console.log(ID);\n    },\n\n    /**\n       *点击新增按钮，弹出新增模态框\n       * @param\n       */\n    addgsForm() {\n      this.dialogAddgsVisible = true;\n      this.title = \"新增分类\";\n    },\n\n    /**\n     *关闭或取消模态框，清空值\n     * @param\n     */\n    closeDialogAddgsVisible() {\n      this.$refs.addForm.resetFields(); //element封装的方法,清空模态框的值\n\n      this.title = \"\"; //初始化title的值\n\n      this.addForm = {\n        //初始化addForm中的值\n        name: \"\",\n        sort: \"\"\n      };\n    },\n\n    /**\n     *确定新增数据\n     * @param\n     */\n    saveAddForm(aaa) {\n      this.$refs[aaa].validate(valid => {\n        console.log(this.$refs[aaa]);\n\n        if (valid) {\n          let params = {\n            name: this.addForm.name,\n            sort: this.addForm.sort\n          };\n          this.axios.post(`接口地址`, params).then(res => {\n            alert('新增成功');\n            this.dialogAddgsVisible = false; // this.$router.push({name:'categories'})\n\n            this.init();\n          });\n        }\n      });\n    }\n\n  },\n  mounted: function () {\n    fetch(\"api/card\").then(response => response.json()).then(data => {\n      console.log(data);\n      this.imgWrap = data;\n    });\n  }\n};","map":{"version":3,"mappings":"AA6CA,eAAe;EACbA,IAAI,EAAE,QADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACL;MACAC,EAAE,EAAE,CAAC;QAAEF,IAAI,EAAE,CAAR;QAAWG,IAAI,EAAE,IAAjB;QAAuBC,KAAK,EAAE;MAA9B,CAAD,EAA0C,CAA1C,EAA6C,CAA7C,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,CAAtD,CAFC;MAGLC,EAAE,EAAE,CACF;QAAEL,IAAI,EAAE,CAAR;QAAWG,IAAI,EAAE,IAAjB;QAAuBC,KAAK,EAAE;MAA9B,CADE,EAEF;QAAEJ,IAAI,EAAE,EAAR;QAAYG,IAAI,EAAE;MAAlB,CAFE,EAGF,CAHE,EAIF,CAJE,EAKF,CALE,EAMF,CANE,EAOF,CAPE,CAHC;MAYLG,CAAC,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAZE;MAaLC,OAAO,EAAE;IAbJ,CAAP;EAeD,CAlBY;;EAmBbC,OAAO,EAAE;IACPC,aAAa,GAAG,CAAE,CADX;;IAEPC,OAAO,CAACC,EAAD,EAAK;MACVC,OAAO,CAACC,GAAR,CAAYF,EAAZ;IACD,CAJM;;IAKP;;;;IAIEG,SAAS,GAAE;MACT,KAAKC,kBAAL,GAA0B,IAA1B;MACA,KAAKC,KAAL,GAAW,MAAX;IACD,CAZI;;IAaL;;;;IAIAC,uBAAuB,GAAE;MACvB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,WAAnB,GADuB,CACU;;MACjC,KAAKJ,KAAL,GAAW,EAAX,CAFuB,CAET;;MACd,KAAKG,OAAL,GAAa;QAAC;QACZnB,IAAI,EAAC,EADM;QAEXqB,IAAI,EAAC;MAFM,CAAb;IAID,CAxBI;;IA0BL;;;;IAIAC,WAAW,CAACC,GAAD,EAAK;MACd,KAAKL,KAAL,CAAWK,GAAX,EAAgBC,QAAhB,CAA2BC,KAAD,IAAW;QACnCb,OAAO,CAACC,GAAR,CAAY,KAAKK,KAAL,CAAWK,GAAX,CAAZ;;QACA,IAAGE,KAAH,EAAS;UACP,IAAIC,MAAM,GAAC;YACP1B,IAAI,EAAC,KAAKmB,OAAL,CAAanB,IADX;YAEPqB,IAAI,EAAC,KAAKF,OAAL,CAAaE;UAFX,CAAX;UAIA,KAAKM,KAAL,CAAWC,IAAX,CAAiB,MAAjB,EAAuBF,MAAvB,EAA+BG,IAA/B,CAAqCC,GAAE,IAAI;YACzCC,KAAK,CAAC,MAAD,CAAL;YACA,KAAKhB,kBAAL,GAA0B,KAA1B,CAFyC,CAGzC;;YACA,KAAKiB,IAAL;UACD,CALD;QAMF;MACD,CAdD;IAeD;;EA9CI,CAnBI;EAqEbC,OAAO,EAAE,YAAY;IACnBC,KAAK,CAAC,UAAD,CAAL,CACGL,IADH,CACSM,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGP,IAFH,CAES5B,IAAD,IAAU;MACdW,OAAO,CAACC,GAAR,CAAYZ,IAAZ;MACA,KAAKM,OAAL,GAAeN,IAAf;IACD,CALH;EAMD;AA5EY,CAAf","names":["name","data","ur","rank","image","sr","r","imgWrap","methods","clickRecharge","clickUR","ID","console","log","addgsForm","dialogAddgsVisible","title","closeDialogAddgsVisible","$refs","addForm","resetFields","sort","saveAddForm","aaa","validate","valid","params","axios","post","then","res","alert","init","mounted","fetch","response","json"],"sourceRoot":"","sources":["/home/huzihao/rare-vue/src/views/BackPackView.vue"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>我的图鉴</h1>\n  </div>\n  <div class=\"mode1\">\n    <p>UR</p>\n    <div class=\"list\">\n      <ul class=\"infinite-list\">\n        <li v-for=\"item in imgWrap\" :key=\"item.id\">\n          <img :src=\"require('../picture/' + item.id + '.jpg')\" />\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"mode1\">\n    <p>SR</p>\n\n    <el-button type=\"success\" @click=\"addgsForm\" icon=\"el-icon-edit\">新增</el-button>\n\n\n    <el-dialog :title=\"title\" :visible.sync=\"dialogAddgsVisible\"  @close=\"closeDialogAddgsVisible\">\n\n      <el-form  :model=\"addForm\" :rules=\"rules\" ref=\"addForm\" >\n        <el-form-item label=\"类别名称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"addForm.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"排序\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"addForm.sort\" ></el-input>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogAddgsVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveAddForm('addForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <ul class=\"infinite-list\">\n      <li v-for=\"j in sr\" :key=\"j\">\n        {{ j.name }}\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"chouKa\",\n  data() {\n    return {\n      //根据服务器的数据显示\n      ur: [{ name: 1, rank: \"ur\", image: \"3.png\" }, 1, 2, 3, 4, 5],\n      sr: [\n        { name: 1, rank: \"ur\", image: \"@/assets/5.jpg\" },\n        { name: 22, rank: \"ur\" },\n        3,\n        4,\n        5,\n        6,\n        7,\n      ],\n      r: [1, 2, 3, 4, 5],\n      imgWrap: [],\n    };\n  },\n  methods: {\n    clickRecharge() {},\n    clickUR(ID) {\n      console.log(ID);\n    },\n    /**\n       *点击新增按钮，弹出新增模态框\n       * @param\n       */\n      addgsForm(){\n        this.dialogAddgsVisible = true;\n        this.title=\"新增分类\"\n      },\n      /**\n       *关闭或取消模态框，清空值\n       * @param\n       */\n      closeDialogAddgsVisible(){\n        this.$refs.addForm.resetFields();//element封装的方法,清空模态框的值\n        this.title=\"\" //初始化title的值\n        this.addForm={//初始化addForm中的值\n          name:\"\",\n          sort:\"\",\n        }\n      },\n\n      /**\n       *确定新增数据\n       * @param\n       */\n      saveAddForm(aaa){\n        this.$refs[aaa].validate( (valid) => {\n          console.log(this.$refs[aaa])\n          if(valid){\n            let params={\n                name:this.addForm.name,\n                sort:this.addForm.sort\n            }\n            this.axios.post(`接口地址`,params).then( res =>{\n              alert('新增成功');\n              this.dialogAddgsVisible = false;\n              // this.$router.push({name:'categories'})\n              this.init()\n            })\n          }\n        })\n      },\n\n  },\n\n  mounted: function () {\n    fetch(\"api/card\")\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        this.imgWrap = data;\n      });\n  },\n};\n</script>\n\n<style scoped>\nimg {\n  overflow: auto;\n  border: 5px solid goldenrod;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  width: 350px;\n  background: var(--el-color-primary-light-9);\n  background-image: url(\"@/assets/5.jpg\");\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  margin: 10px;\n  color: var(--el-color-primary);\n}\np {\n  text-align: left;\n  background: aqua;\n}\n.mode1 {\n  /* height: 200px; */\n  /* margin-bottom: 200px; */\n  border-radius: 20px;\n  border: 10px;\n}\n.mode2 {\n  /* height: 200px; */\n  margin-bottom: 200px;\n}\n.mode3 {\n  /* height: 200px; */\n  margin-bottom: 200px;\n}\n.infinite-list {\n  display: grid;\n  grid-template-columns: repeat(5, 20vw);\n  padding: 10px;\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n}\n\n.infinite-list .infinite-list-item-sr {\n  overflow: auto;\n  border: 5px solid plum;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  width: 350px;\n  background: var(--el-color-primary-light-9);\n  background-image: url(\"@/assets/3.png\");\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  margin: 10px;\n  color: var(--el-color-primary);\n}\n.infinite-list .infinite-list-item-r {\n  overflow: auto;\n  border: 5px solid skyblue;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  width: 350px;\n  background: var(--el-color-primary-light-9);\n  background-image: url(\"@/assets/4.jpg\");\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  margin: 10px;\n  color: var(--el-color-primary);\n}\n.infinite-list .infinite-list-item + .list-item {\n  margin-top: 10px;\n}\n.list {\n  display: flex;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}